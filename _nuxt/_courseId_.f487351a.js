import{a as k,t as $,k as g,r as s,o as w,c as j,w as n,h as o,m as D,i as f,f as d,b as U,l as N,q as v,e as y}from"./entry.b6a2886e.js";const S={props:["sub_name","course_name"],setup(t){const e=$(t);return console.log(e.course_name),{title:e}},data(){return{dialog:!1,s_name:this.title.sub_name.value,c_name:this.title.course_name.value}},methods:{sendEvent(){const t={subject:this.s_name,course:this.c_name};this.$emit("update",t)},setValues(){this.s_name=this.title.sub_name.value,this.c_name=this.title.course_name.value}},created(){const t=g();console.log(t)}},T=d("span",{class:"text-h5"},"Update Course",-1);function B(t,e,u,c,a,r){const i=s("v-icon"),l=s("v-btn"),p=s("v-card-title"),b=s("v-text-field"),C=s("v-container"),h=s("v-card-text"),x=s("v-spacer"),V=s("v-card-actions"),m=s("v-card"),M=s("v-dialog"),I=s("v-row");return w(),j(I,{justify:"center"},{default:n(()=>[o(M,{modelValue:a.dialog,"onUpdate:modelValue":e[3]||(e[3]=_=>a.dialog=_),persistent:"",width:"1024"},{activator:n(({props:_})=>[o(l,D({color:"indigo-darken-4"},_,{onClick:r.setValues}),{default:n(()=>[o(i,{icon:"mdi-pencil",color:"white",size:"large"})]),_:2},1040,["onClick"])]),default:n(()=>[o(m,null,{default:n(()=>[o(p,null,{default:n(()=>[T]),_:1}),o(h,null,{default:n(()=>[o(C,null,{default:n(()=>[o(b,{label:"Subject Name",modelValue:a.s_name,"onUpdate:modelValue":e[0]||(e[0]=_=>a.s_name=_)},null,8,["modelValue"]),o(b,{label:"Course Name",modelValue:a.c_name,"onUpdate:modelValue":e[1]||(e[1]=_=>a.c_name=_)},null,8,["modelValue"])]),_:1})]),_:1}),o(V,null,{default:n(()=>[o(x),o(l,{color:"blue-darken-1",variant:"text",onClick:e[2]||(e[2]=_=>a.dialog=!1)},{default:n(()=>[f(" Close ")]),_:1}),o(l,{color:"blue-darken-1",variant:"text",onClick:r.sendEvent},{default:n(()=>[f(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const z=k(S,[["render",B]]),E={setup(){const t=U();return{course:N(()=>t.course)}},data(){return{dialog:!1}}};function P(t,e,u,c,a,r){const i=s("v-icon"),l=s("v-btn"),p=s("v-card-text"),b=s("v-spacer"),C=s("v-card-actions"),h=s("v-card"),x=s("v-dialog"),V=s("v-row");return w(),j(V,{justify:"center"},{default:n(()=>[o(x,{modelValue:a.dialog,"onUpdate:modelValue":e[2]||(e[2]=m=>a.dialog=m),persistent:"",width:"auto"},{activator:n(({props:m})=>[o(l,D({color:"indigo-darken-4"},m),{default:n(()=>[o(i,{icon:"mdi-delete",color:"white",size:"large"})]),_:2},1040)]),default:n(()=>[o(h,null,{default:n(()=>[o(p,null,{default:n(()=>[f(v(c.course.subjectName)+" course will be deleted permanently. are you sure you want to continue ? ",1)]),_:1}),o(C,null,{default:n(()=>[o(b),o(l,{color:"green-darken-1",variant:"text",onClick:e[0]||(e[0]=m=>a.dialog=!1)},{default:n(()=>[f(" Disagree ")]),_:1}),o(l,{color:"green-darken-1",variant:"text",onClick:e[1]||(e[1]=m=>this.$emit("delete"))},{default:n(()=>[f(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const R=k(E,[["render",P]]);const q={name:"CoursePage",setup(){const t=U(),{fetchCourse:e}=t,{deleteCourse:u}=t,{updateCourse:c}=t,a=N(()=>t.course);return{fetchCourse:e,deleteCourse:u,updateCourse:c,course:a}},data(){return{isUpdate:!1}},methods:{async update(){this.isUpdate=!this.isUpdate},async submitData(t){const u={id:g().params.courseId,subject:t.subject,course:t.course};this.updateCourse(u),await y("/")},async removeCourse(){const t=g();this.deleteCourse(t.params.courseId),await y("/")},dateTransform(t){const e=new Date(t),u=e.getFullYear();let c=e.getMonth()+1,a=e.getDate();const r=e.getHours(),i=e.getMinutes();return a<10&&(a=`0${a}`),c<10&&(c=`0${c}`),`${a}-${c}-${u} at ${r}:${i}`}},beforeCreate(){const t=g();this.fetchCourse(t.params.courseId)}},A={class:"d-flex align-end btn-container"};function F(t,e,u,c,a,r){const i=z,l=R,p=s("v-container");return w(),j(p,{fluid:"",class:"course-details"},{default:n(()=>[d("h2",null,"Subject : "+v(c.course?.subjectName),1),d("h2",null,"Course : "+v(c.course?.courseName),1),d("h2",null,"Date Created : "+v(r.dateTransform(c.course?.dateCreated)),1),d("h2",null,"Date Modified : "+v(r.dateTransform(c.course?.dateModified)),1),d("div",A,[d("div",null,[o(i,{class:"btn",sub_name:c.course?.subjectName,course_name:c.course?.courseName,onUpdate:r.submitData},null,8,["sub_name","course_name","onUpdate"])]),d("div",null,[o(l,{class:"btn",onDelete:r.removeCourse},null,8,["onDelete"])])])]),_:1})}const Y=k(q,[["render",F],["__scopeId","data-v-c1bbb077"]]);export{Y as default};
